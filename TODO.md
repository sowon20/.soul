## í•­ìƒ ì‘ì—… ì „ í™•ì¸ / ì‘ì—… í›„ ì—…ë°ì´íŠ¸í•  ê²ƒ! : ì²´í¬ ë° ì¤‘ìš”ë©”ëª¨

## ğŸ”¥ ìµœê·¼ ì‘ì—… í˜„í™© (2026-01-22)

### âœ… ì„¤ì • í˜ì´ì§€ í”„ë ˆì„ì›Œí¬ ì™„ì „ ë¦¬íŒ©í† ë§ ì™„ë£Œ
**ìœ„ì¹˜**: `/workspaces/.soul/client/src/settings/`

**ìƒˆë¡œìš´ êµ¬ì¡°**:
```
settings/
â”œâ”€â”€ settings-manager.js         # í”„ë ˆì„ì›Œí¬ (ë¼ìš°íŒ…, ë„¤ë¹„ê²Œì´ì…˜)
â”œâ”€â”€ components/                 # í˜ì´ì§€ë³„ ì»´í¬ë„ŒíŠ¸ (ë™ì  ë¡œë“œ)
â”‚   â”œâ”€â”€ profile-settings.js     # í”„ë¡œí•„ ì„¤ì • âœ…
â”‚   â”œâ”€â”€ ai-settings.js          # AI ì„¤ì • (í”Œë ˆì´ìŠ¤í™€ë”)
â”‚   â””â”€â”€ theme-settings.js       # í…Œë§ˆ ì„¤ì • (í”Œë ˆì´ìŠ¤í™€ë”)
â””â”€â”€ styles/
    â””â”€â”€ settings.css            # ê³µí†µ ìŠ¤íƒ€ì¼ (JS ëª¨ë“ˆë¡œ ì„í¬íŠ¸)
```

**ì£¼ìš” ë³€ê²½ ì‚¬í•­**:
- âŒ **ê¸°ì¡´**: `profile-manager.js`ì— ëª¨ë“  ë¡œì§ ì§‘ì¤‘, `index.html`ì— CSS ì§ì ‘ ë§í¬
- âœ… **í˜„ì¬**: ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜, ë™ì  ëª¨ë“ˆ ë¡œë”©, CSS ëª¨ë“ˆ ì„í¬íŠ¸
- ê° ì„¤ì • í˜ì´ì§€ëŠ” ë…ë¦½ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ â†’ í•„ìš”í•  ë•Œë§Œ `import()`ë¡œ ë¡œë“œ
- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (í”„ë¡œí•„/AI/í…Œë§ˆ) ì§€ì›
- Vite HMRë¡œ CSS/JS ìë™ í•« ë¦¬ë¡œë“œ

**ìƒˆë¡œìš´ ì„¤ì • í˜ì´ì§€ ì¶”ê°€í•˜ëŠ” ë²•**:
1. `settings/components/new-settings.js` ìƒì„±
2. `SettingsManager.getComponent()`ì— ë¼ìš°íŒ… ì¶”ê°€
3. ë! (ìë™ìœ¼ë¡œ í†µí•©ë¨)

**ê´€ë ¨ íŒŒì¼**:
- `/client/src/main.js` - í”„ë¡œí•„ ë²„íŠ¼ í´ë¦­ ì‹œ SettingsManager ë¡œë“œ
- `/client/src/settings/` - ëª¨ë“  ì„¤ì • ê´€ë ¨ ì½”ë“œ

---

## âš ï¸ í•„ìˆ˜ ìˆ™ì§€ ì‚¬í•­

### ğŸ“– LIBRECHAT_CONTEXT_HANDOVER.md ë°˜ë“œì‹œ ì½ê¸°
**ìœ„ì¹˜**: `/workspaces/.soul/docs/LIBRECHAT_CONTEXT_HANDOVER.md`

ğŸ“‹ í¬í•¨ ë‚´ìš©
í•µì‹¬ ì„¹ì…˜
í•µì‹¬ ì² í•™ - LibreChatì´ ì¼ë°˜ ChatGPT/Claudeì™€ ë‹¤ë¥¸ ì´ìœ 
ë ˆì´ì–´ ì•„í‚¤í…ì²˜ - 7ê°œ ë ˆì´ì–´ ìƒì„¸ ì„¤ëª…
ë©”ì‹œì§€ êµ¬ì„± íŒŒì´í”„ë¼ì¸ - ì „ì²´ íë¦„ë„ + ì‹¤ì œ ì½”ë“œ
í† í° ê´€ë¦¬ ì „ëµ - í† í° í­ë°œ ë²„ê·¸ 3ê°€ì§€ ì›ì¸ê³¼ í•´ê²°
ë©”ëª¨ë¦¬ ê³„ì¸µ ì‹œìŠ¤í…œ - ë‹¨ê¸°/ì¤‘ê¸°/ì¥ê¸° ìë™ ê´€ë¦¬
ì„¸ì…˜ ì—°ì†ì„± - ìë™ ì €ì¥, ì‹œê°„ ì¸ì§€ ì¬ê°œ
ì—ì´ì „íŠ¸ ì²´ì´ë‹ - ìˆœì°¨/ë³‘ë ¬ ì²´ì¸ êµ¬í˜„
êµ¬í˜„ ìƒíƒœ - Phase 5.4, 8 ì™„ë£Œ ìƒíƒœ
ì£¼ìš” íŠ¹ì§•
âœ… ë³µë¶™ ê°€ëŠ¥í•œ ì½”ë“œ ì˜ˆì‹œ - ì‹¤ì œ ë™ì‘í•˜ëŠ” ì½”ë“œ
âœ… Before/After ë¹„êµ - ì™œ ì´ë ‡ê²Œ í•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•íˆ
âœ… ì‹œê°í™”ëœ íë¦„ë„ - ì „ì²´ íŒŒì´í”„ë¼ì¸ ì´í•´ ì‰½ê²Œ
âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸ - ì¸ìˆ˜ì¸ê³„ ì‹œ í™•ì¸ì‚¬í•­
âœ… í•µì‹¬ í•™ìŠµ í¬ì¸íŠ¸ - ë°˜ë“œì‹œ ì´í•´í•´ì•¼ í•  ê°œë…

ê°•ì¡°í•œ í•µì‹¬ ê¸°ìˆ 
ì—­ìˆœ ë©”ì‹œì§€ ì¶”ê°€ - ìµœì‹  ëŒ€í™” ë³´ì¡´
ìë™ ë§¥ë½ ê°ì§€ - "ì €ë²ˆì—" ê°ì§€ â†’ ë©”ëª¨ë¦¬ ì£¼ì…
3ë‹¨ê³„ ë©”ëª¨ë¦¬ ê³„ì¸µ - ë‹¨ê¸°(RAM) â†’ ì¤‘ê¸°(íŒŒì¼) â†’ ì¥ê¸°(DB)
í† í° í­ë°œ ë°©ì§€ - Tool ì¶œë ¥ ì œí•œ, Vision ê³„ì‚°, í† í°ë‚˜ì´ì € ì´ˆê¸°í™”
ì„¸ì…˜ ì—°ì†ì„± - 1ë¶„ ìë™ ì €ì¥, ì‹œê°„ ì¸ì§€ ì¬ê°œ
ë‹¨ì¼ ì¸ê²© ìœ ì§€ - ëª¨ë¸ ì „í™˜í•´ë„ ì¼ê´€ëœ ë§íˆ¬
7ê°œ ë ˆì´ì–´ ìŠ¤íƒ - ê° ë ˆì´ì–´ì˜ ì—­í• ê³¼ ì¤‘ìš”ì„±

**ë©”ëª¨ë¦¬ ê´€ë ¨ ì‘ì—… ì „ í•„ìˆ˜ ìˆ™ì§€**:
- 3ë‹¨ê³„ ë©”ëª¨ë¦¬ ê³„ì¸µ (ë‹¨ê¸°â†’ì¤‘ê¸°â†’ì¥ê¸°)
- Omi ë°©ì‹ ì ì§„ì  ë°€ë„ ì¦ê°€
- ì—­ìˆœ ë©”ì‹œì§€ ì¶”ê°€ ê¸°ë²•
- í† í° í­ë°œ ë°©ì§€ ë©”ì»¤ë‹ˆì¦˜
- ë§¥ë½ ìë™ ê°ì§€ íŒŒì´í”„ë¼ì¸
- ì„¸ì…˜ ì—°ì†ì„± ì‹œìŠ¤í…œ

**ì´ ë¬¸ì„œë¥¼ ì•ˆ ì½ê³  ë©”ëª¨ë¦¬ ì½”ë“œ ê±´ë“œë¦¬ë©´**:
- ì„¤ê³„ ì˜ë„ë¥¼ ëª¨ë¥´ê³  ìˆ˜ì • â†’ ë§ê°€ì§
- "ì™œ ì´ë ‡ê²Œ í–ˆì§€?" â†’ ì»¨í…ìŠ¤íŠ¸ ì†ì‹¤
- ì¤‘ë³µ êµ¬í˜„ or ì˜ëª»ëœ ë°©í–¥

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-20
**ë²„ì „**: 1.0 (GitHub ë°°í¬ìš©)



----------------------------------------------------------------------------



## ğŸ—ï¸ Phase 1: ë©”ëª¨ë¦¬ ì €ì¥ ì‹œìŠ¤í…œ âœ…

### 1.1 ì €ì¥ì†Œ êµ¬ì¡°
- [x] ë©”íƒ€ë°ì´í„° í—¤ë” í¬ë§· ì •ì˜
- [x] `/memory/raw/` ë””ë ‰í† ë¦¬ ìƒì„±
- [x] íŒŒì¼ëª… ê·œì¹™: `YYYY-MM-DD_HHmmss_ì£¼ì œ.md`
- [x] index.json ìŠ¤í‚¤ë§ˆ ì„¤ê³„

### 1.2 ì‹¤ì‹œê°„ ì €ì¥
- [x] ëŒ€í™” ì¢…ë£Œ ì‹œ ìë™ ì €ì¥ í›…
- [x] API: POST /api/archive/:conversationId
- [x] Markdown ë³€í™˜ ë¡œì§
- [x] íŒŒì¼ ì‹œìŠ¤í…œ ì €ì¥

### 1.3 ë©”íƒ€ë°ì´í„°
- [x] index.json ìë™ ì—…ë°ì´íŠ¸
- [x] í•„ë“œ: id, date, length, participants, path, tags

---

## ğŸ¤– Phase 2: AI ë¶„ë¥˜ ì‹œìŠ¤í…œ âœ…

### 2.1 ëª¨ë¸ ì„ íƒ
- [x] Claude/GPT/Gemini/ë¡œì»¬ ëª¨ë¸ ì„ íƒ ê°€ëŠ¥
- [x] ëª¨ë¸ë³„ API ì¸í„°í˜ì´ìŠ¤
- [x] ì„¤ì • API êµ¬í˜„

### 2.2 ìë™ ë¶„ì„
- [x] ëŒ€í™” ì¢…ë£Œ ì‹œ AI ë¶„ì„
- [x] ì£¼ì œ 3ê°œ ì¶”ì¶œ
- [x] íƒœê·¸ 5-10ê°œ ìƒì„±
- [x] ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
- [x] ì¤‘ìš”ë„ ì ìˆ˜ (1-10)

### 2.3 ê²°ê³¼ ì €ì¥
- [x] index.json ì—…ë°ì´íŠ¸
- [x] íŒŒì¼ëª…ì— ì£¼ì œ ë°˜ì˜
- [x] ê²€ìƒ‰ ì¸ë±ìŠ¤ ë“±ë¡

---

## ğŸ“ Phase 2A: íŒŒì¼ ì‹œìŠ¤í…œ (ë³´ë¥˜)

### 2A.1 ì €ì¥ ê²½ë¡œ ì„¤ì •
- [ ] ì„¤ì • > íŒŒì¼ ì €ì¥ì†Œ UI
- [ ] í”ŒëŸ¬ê·¸ì¸ ë°©ì‹ (ë¡œì»¬/NAS/í´ë¼ìš°ë“œ)
- [ ] ê²½ë¡œ ê²€ì¦ API
- [ ] í´ë°± ì‹œìŠ¤í…œ

### 2A.2 íŒŒì¼ ë©”íƒ€ë°ì´í„° DB
- [ ] íŒŒì¼ ì •ë³´ í…Œì´ë¸”
- [ ] í•„ë“œ: filename, path, type, size, date
- [ ] ë¶„ë¥˜, íƒœê·¸, ì¶”ì¶œ ì •ë³´

### 2A.3 ìë™ ë¶„ë¥˜
- [ ] ì¹´í…Œê³ ë¦¬ ì •ì˜ (ê¸ˆìœµ, ê³„ì•½, ê°œì¸)
- [ ] AI ìë™ í™•ì¥
- [ ] ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬ í—ˆìš©

---

## ğŸ“„ Phase 2B: ë¬¸ì„œ ì²˜ë¦¬ (ë³´ë¥˜)

### 2B.1 PDF ì²˜ë¦¬
- [ ] pdf-parse ì—°ë™
- [ ] OCR ê²°í•©
- [ ] ë©”íƒ€ë°ì´í„° ì¶”ì¶œ

### 2B.2 ì´ë¯¸ì§€ OCR
- [ ] Tesseract ì„¤ì¹˜
- [ ] í•œê¸€/ì˜ë¬¸ ì¸ì‹
- [ ] ì •í™•ë„ ê²€ì¦

### 2B.3 Office ë¬¸ì„œ
- [ ] Word (mammoth)
- [ ] Excel (xlsx)
- [ ] PowerPoint (python-pptx)

### 2B.4 HWP
- [ ] hwp5 ì—°ë™
- [ ] í…ìŠ¤íŠ¸ ì¶”ì¶œ
- [ ] PDF ë³€í™˜ ì˜µì…˜

### 2B.5 ì›ë³¸ ë³´ê´€
- [ ] ë³´ê´€ ê¸°ê°„ ì„¤ì •
- [ ] ì‹ ë¢°ë„ ì ìˆ˜ ê¸°ë°˜ ìœ ì§€
- [ ] ìˆ˜ë™ ì‚­ì œë§Œ í—ˆìš©

---

## ğŸ” Phase 2C: AI ë¬¸ì„œ ë¶„ì„ (ë³´ë¥˜)

### 2C.1 ìœ í˜• íŒë‹¨
- [ ] ê³„ì•½ì„œ/ì²­êµ¬ì„œ/ê´€ë¦¬ë¹„ ë“± ë¶„ë¥˜
- [ ] ì‹ ë¢°ë„ ì ìˆ˜

### 2C.2 ì •ë³´ ì¶”ì¶œ
- [ ] ë‚ ì§œ (ê³„ì•½ì¼, ë§Œê¸°ì¼ ë“±)
- [ ] ê¸ˆì•¡ (ê³„ì•½ê¸ˆ, ì›”ì„¸ ë“±)
- [ ] ë‹¹ì‚¬ì ì •ë³´
- [ ] ê¸°ê°„ ì •ë³´
- [ ] êµ¬ì¡°í™” ì €ì¥

### 2C.3 ìë™ íƒœê·¸
- [ ] ë‚´ìš© ê¸°ë°˜ íƒœê·¸
- [ ] ê¸ˆì•¡/ë‚ ì§œ ë©”íƒ€ íƒœê·¸
- [ ] ê¸°ì¡´ íƒœê·¸ ì—°ê²°

### 2C.4 AI ëª¨ë¸ ì„¤ì •
- [ ] ëª¨ë¸ ì„ íƒ UI
- [ ] ì‘ì—…ë³„ ëª¨ë¸ ë¶„ë¦¬ (OCR í›„ì²˜ë¦¬, ë¶„ë¥˜, ìš”ì•½, ì¤‘ìš” ë¬¸ì„œ)

---

## ğŸ“‹ Phase 2D: ë¬¸ì„œ ê´€ë¦¬ (ë³´ë¥˜)

### 2D.1 ìˆ˜ì • API
- [ ] POST /api/files/:id/tags
- [ ] POST /api/files/:id/category
- [ ] PATCH /api/files/:id/metadata

### 2D.2 ì¬ë¶„ë¥˜
- [ ] POST /api/files/:id/reclassify
- [ ] ìˆ˜ë™ íŠ¸ë¦¬ê±°
- [ ] ì¼ê´„ ì¬ë¶„ë¥˜

### 2D.3 íƒœê·¸ ê´€ë¦¬
- [ ] POST /api/tags/merge
- [ ] POST /api/tags/split
- [ ] UI íƒœê·¸ ê´€ë¦¬ íŒ¨ë„

---

## ğŸ”§ Phase 2E: ë¬¸ì„œ í™œìš© (ë³´ë¥˜)

### 2E.1 ìŠ¤ì¼€ì¤„ ì¶”ì¶œ
- [ ] "ë§Œê¸°ë˜ëŠ” ë³´í—˜ ì°¾ì•„ì¤˜"
- [ ] ìë™ ë§Œê¸°ì¼ ì¶”ì¶œ
- [ ] ìº˜ë¦°ë” í†µí•©

### 2E.2 ê¸ˆì•¡ ì§‘ê³„
- [ ] ê¸°ê°„ë³„/ì¹´í…Œê³ ë¦¬ë³„ í•©ì‚°
- [ ] ì°¨íŠ¸ ìƒì„±

### 2E.3 íŒŒì¼ í¸ì§‘
- [ ] ì½ê¸°: ëª¨ë“  í¬ë§· â†’ í…ìŠ¤íŠ¸
- [ ] ìˆ˜ì •: í…ìŠ¤íŠ¸ í¸ì§‘ â†’ ì¬ì €ì¥
- [ ] ìƒì„±: í…ìŠ¤íŠ¸ â†’ PDF/Excel/Word
- [ ] ë³€í™˜: í¬ë§· ê°„ ë³€í™˜

---

## ğŸ” Phase 3: ê²€ìƒ‰ ì‹œìŠ¤í…œ âœ…

### 3.1 ê¸°ë³¸ ê²€ìƒ‰
- [x] GET /api/search
- [x] í‚¤ì›Œë“œ ë§¤ì¹­
- [x] ë‚ ì§œ/íƒœê·¸/íŒŒì¼ ìœ í˜• í•„í„°
- [x] í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬, ê´€ë ¨ì„± ì ìˆ˜

### 3.2 ì§€ëŠ¥í˜• ê²€ìƒ‰
- [x] "ê°œë–¡ê°™ì´" ê²€ìƒ‰ì–´ í•´ì„
- [x] ì‹œê°„ ì¶”ë¡  ("ì €ë²ˆì—", "ìµœê·¼", "3ì¼ ì „")
- [x] ë§¥ë½ ê¸°ë°˜ ê²€ìƒ‰
- [x] ê´€ë ¨ì„± ìˆœìœ„
- [x] ì˜¤íƒ€ ìˆ˜ì • & ë™ì˜ì–´ í™•ì¥

### 3.3 ì „ë¬¸ ê²€ìƒ‰ (ë³´ë¥˜)
- [ ] Elasticsearch/MeiliSearch ì—°ë™
- [ ] OCR í…ìŠ¤íŠ¸ í¬í•¨
- [ ] ê¸ˆì•¡/ë‚ ì§œ ë²”ìœ„ ê²€ìƒ‰

### 3.4 ì—°ê´€ ê²€ìƒ‰
- [x] ë¹„ìŠ·í•œ ì£¼ì œ ì°¾ê¸°
- [x] ê´€ê³„ ê·¸ë˜í”„
- [x] "ì´ê²ƒë„ ë³¼ë˜?" ì¶”ì²œ

---

## ğŸ§  Phase 4: ììœ¨ ê¸°ì–µ âœ…

### 4.1 ë§¥ë½ ê°ì§€
- [x] ê´€ë ¨ ì£¼ì œ ìë™ ê°ì§€
- [x] íŠ¸ë¦¬ê±° ì¡°ê±´ ì„¤ì •
- [x] ìë™ ê²€ìƒ‰ ì‹¤í–‰
- [x] ìŠ¤íŒ¸ ë°©ì§€

### 4.2 ìì—°ìŠ¤ëŸ¬ìš´ í†µí•©
- [x] ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì£¼ì…
- [x] "ê·¸ë•Œ ì• ê¸°í–ˆë˜..." íŒ¨í„´
- [x] ìŠ¤íŒ¸ ë°©ì§€

### 4.3 ë¹„ìœ /ì—°ê²°
- [x] ê³¼ê±° ëŒ€í™” ë¹„ìœ  ì°¾ê¸°
- [x] ì„ íƒì  í™œì„±í™”
- [x] ë¬¸ì œ/í•´ê²°/ê²°ê³¼ íŒ¨í„´ ê°ì§€

---

## ğŸ›ï¸ Phase 5: ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ âœ…

### 5.1 í† í° ëª¨ë‹ˆí„°ë§
- [x] í˜„ì¬ í† í° ìˆ˜ ì¶”ì 
- [x] 80% ê²½ê³ , 90% ìë™ ì••ì¶•
- [ ] UI ê²Œì´ì§€ (ì„ íƒ)

### 5.2 ìë™ ì••ì¶•
- [x] ì˜¤ë˜ëœ ë©”ì‹œì§€ ìš”ì•½
- [x] í•µì‹¬ë§Œ ë‚¨ê¸°ê¸°
- [x] ì›ë³¸ íŒŒì¼ ì €ì¥
- [x] AI ìš”ì•½ ì§€ì› (ì„ íƒ)

### 5.3 ì„¸ì…˜ ì—°ì†ì„±
- [x] ì¢…ë£Œ ì‹œ ìš”ì•½ ìƒì„±
- [x] ì‹œì‘ ì‹œ ìš”ì•½ ë¡œë“œ
- [ ] "ì´ì–´ê°€ê¸°" ë²„íŠ¼ (UI)

---

## ğŸ›ï¸ Phase 5.4: ì˜ì†ì  ëŒ€í™”ë°© ì‹œìŠ¤í…œ âœ…

### 5.4.1 ëŒ€í™” ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- [x] buildConversationMessages() - ë©”ì‹œì§€ ë°°ì—´ êµ¬ì„±
- [x] getMessagesWithinTokenLimit() - ì—­ìˆœ ë©”ì‹œì§€ ì¶”ê°€
- [x] handleResponse() - ì‘ë‹µ ì²˜ë¦¬ ë° ì €ì¥
- [x] ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë™ì  êµ¬ì„±
- [x] ìë™ ë©”ëª¨ë¦¬ ì£¼ì…
- [x] 80% ë„ë‹¬ì‹œ ìë™ ì••ì¶•

### 5.4.2 í† í° í­ë°œ ë°©ì§€
- [x] TokenSafeguard í´ë˜ìŠ¤ - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- [x] emergencyCompress() - 95% ê°•ì œ ì••ì¶•
- [x] truncateToolOutput() - Tool ì¶œë ¥ 500 í† í° ì œí•œ
- [x] Vision í† í° ê³„ì‚°
- [x] ManagedTokenizer - 5ë¶„/25íšŒ ìë™ ì´ˆê¸°í™”
- [x] ë‹¨ì¼ ë©”ì‹œì§€ 10% ì œí•œ

### 5.4.3 ì—ì´ì „íŠ¸ ì²´ì´ë‹
- [x] Agent í´ë˜ìŠ¤
- [x] SequentialChain - ìˆœì°¨ ì‹¤í–‰
- [x] ParallelChain - ë³‘ë ¬ ì‹¤í–‰
- [x] ToolLayer

### 5.4.4 ë©”ëª¨ë¦¬ ê³„ì¸µ
- [x] ShortTermMemory - ìµœê·¼ 50ê°œ ë©”ì‹œì§€
- [x] MiddleTermMemory - ì„¸ì…˜ ìš”ì•½ (íŒŒì¼)
- [x] LongTermMemory - ì•„ì¹´ì´ë¸Œ (MongoDB)
- [x] MemoryManager - í†µí•© ê´€ë¦¬
- [x] ìë™ ê³„ì¸µ ì´ë™

### 5.4.5 ì„¸ì…˜ ì—°ì†ì„±
- [x] saveSessionState() - ì„¸ì…˜ ìƒíƒœ ì €ì¥
- [x] restoreSession() - ì„¸ì…˜ ë³µì›
- [x] generateResumePrompt() - ì¬ê°œ í”„ë¡¬í”„íŠ¸
- [x] ì‹œê°„ ì¸ì§€ ì¬ê°œ ë©”ì‹œì§€
- [x] ìë™ ì €ì¥ (1ë¶„ ê°„ê²©)
- [x] ì„¸ì…˜ ë§Œë£Œ ê´€ë¦¬ (30ì¼)

---

## ğŸ·ï¸ Phase 6: íƒœê·¸ ì§„í™” (ë³´ë¥˜)

### 6.1 íƒœê·¸ ë¶„ì„
- [ ] ì£¼ 1íšŒ ì „ì²´ ë¶„ì„
- [ ] ìœ ì‚¬ íƒœê·¸ ê°ì§€
- [ ] ì‚¬ìš© ë¹ˆë„ ì¶”ì 

### 6.2 ìë™ ì¬ë¶„ë¥˜
- [ ] AI ì •ë¦¬ ìš”ì²­
- [ ] ë³‘í•© ì œì•ˆ
- [ ] ì„¸ë¶„í™” ì œì•ˆ

### 6.3 ê´€ê³„ ì—…ë°ì´íŠ¸
- [ ] ëŒ€í™” ê°„ ê´€ê³„ ì¬ê³„ì‚°
- [ ] íŒ¨í„´ ë°œê²¬
- [ ] index.json ì—…ë°ì´íŠ¸

---

## âš¡ Phase 7: í”„ë¡¬í”„íŠ¸ ìºì‹± (ë³´ë¥˜)

- [ ] DB ìŠ¤í‚¤ë§ˆ: PromptCacheUsage
- [ ] ìë™ ì €ì¥: recordTokenUsage()
- [ ] Stats API: GET /api/prompt-caching/stats
- [ ] ê¸°ë³¸ê°’ í™œì„±í™”

---

## ğŸ¯ Phase 8: ìŠ¤ë§ˆíŠ¸ ë¼ìš°íŒ… âœ…

### 8.1 ìŠ¤ë§ˆíŠ¸ ë¼ìš°í„°
- [x] SmartRouter í´ë˜ìŠ¤
- [x] analyzeTask() - ë³µì¡ë„ ë¶„ì„ (0-10)
- [x] detectTaskType() - 11ê°œ íƒœìŠ¤í¬ ìœ í˜• íƒì§€
- [x] selectModel() - Haiku/Sonnet/Opus ìë™ ì„ íƒ
- [x] ë¹„ìš© ì¶”ì •
- [x] ë¼ìš°íŒ… í†µê³„

### 8.2 ë‹¨ì¼ ì¸ê²© ì‹œìŠ¤í…œ
- [x] PersonalityCore í´ë˜ìŠ¤
- [x] PERSONALITY_PROFILE (ì¸ê²© ì •ì˜)
- [x] generateSystemPrompt() - ì¼ê´€ëœ í”„ë¡¬í”„íŠ¸
- [x] validateResponse() - ì‘ë‹µ ì¼ê´€ì„± ê²€ì¦
- [x] handleModelSwitch() - ëª¨ë¸ ì „í™˜ ì‹œ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€
- [x] trackTopic() - ëŒ€í™” ì£¼ì œ ì¶”ì 
- [x] setUserPreference() - ì‚¬ìš©ì ì„ í˜¸ë„

### 8.3 API & í…ŒìŠ¤íŠ¸
- [x] POST /api/chat - ìŠ¤ë§ˆíŠ¸ ë¼ìš°íŒ… í†µí•©
- [x] POST /api/chat/analyze-task
- [x] GET /api/chat/routing-stats
- [x] GET /api/chat/models, personality
- [x] POST /api/chat/personality/preference
- [x] í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [x] SMART_ROUTING.md ë¬¸ì„œí™”

---

## ğŸ¨ Phase 9: UI ê°œì„ 

### 9.1 ë©”ëª¨ë¦¬ íƒìƒ‰
- [ ] íƒ€ì„ë¼ì¸ ë·°
- [ ] íƒœê·¸ í´ë¼ìš°ë“œ
- [ ] ê´€ê³„ ê·¸ë˜í”„ ì‹œê°í™”

### 9.2 ê²€ìƒ‰ UI
- [ ] ê²€ìƒ‰ì°½
- [ ] í•„í„° ì˜µì…˜
- [ ] ë¯¸ë¦¬ë³´ê¸°
- [ ] "ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼

### 9.3 íŒŒì¼ ê´€ë¦¬ UI
- [ ] íŒŒì¼ ëª©ë¡ ë·°
- [ ] ë¶„ë¥˜ë³„ í•„í„°
- [ ] í¸ì§‘ ì¸í„°í˜ì´ìŠ¤
- [ ] íƒœê·¸ ê´€ë¦¬

### 9.4 MCP UI
- [ ] MCP ì„œë²„ ëª©ë¡
- [ ] ìƒì„¸ ì •ë³´
- [ ] ì¶”ê°€/í¸ì§‘/ì‚­ì œ
- [ ] í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€
- [ ] ëŒ€í™”ì°½ MCP ë²„íŠ¼ ì—°ë™

### 9.5 ì•Œë¦¼ ì„¼í„°
- [ ] ì•Œë¦¼ ëª©ë¡ (NotificationCenter)
- [ ] ìš°ì„ ìˆœìœ„ í‘œì‹œ
- [ ] ì½ìŒ/ë¯¸ì½ìŒ
- [ ] íƒ€ì…ë³„ í•„í„°
- [ ] NotificationBadge
- [ ] ì‹¤ì‹œê°„ í´ë§ (30ì´ˆ)

### 9.6 ì»¨í…ìŠ¤íŠ¸ UI
- [ ] í† í° ê²Œì´ì§€ (ì„ íƒ)

### 9.7 ë‹¨ì¼ ëŒ€í™”ë°© ì‹œìŠ¤í…œ

#### 9.7.1 UI ì •ë¦¬
- [x] Nav.tsx ê°„ì†Œí™”
- [x] ì±„íŒ…ë°© ë¦¬ìŠ¤íŠ¸ ì œê±°
- [x] ìƒˆ ëŒ€í™” ë²„íŠ¼ ì œê±° (ì¢Œì¸¡ Nav)
- [x] ì—ì´ì „íŠ¸ ë§ˆì¼“ ì œê±°
- [x] ê²€ìƒ‰ë°” ì œê±°
- [x] ë¶ë§ˆí¬ ì œê±°
- [x] ìƒˆ ëŒ€í™” ë²„íŠ¼ ì œê±° (ìš°ì¸¡ ìƒë‹¨) â­
- [x] ëŒ€í™”ë°© ì œëª© ì œê±° ("New Chat" ë“±) â­
- [x] Header ìƒë‹¨ ë– ìˆëŠ” UI ì „ë¶€ ì œê±° â­
- [x] í–„ë²„ê±° ë²„íŠ¼ë§Œ ë‚¨ê¸°ê¸° (ì•Œë¦¼/ì‚¬ìš©ì/ì„¤ì • ì œê±°)

#### 9.7.2 ë¼ìš°íŒ…
- [x] ChatRoute.tsx: ê³ ì • 'main-conversation'
- [x] routes/index.tsx: index: true
- [x] useNewConvo.ts: navigate('/')
- [x] URL: `/` ë§Œ ì‚¬ìš©

#### 9.7.3 API
- [x] convos.js: GET /:idë§Œ ìœ ì§€
- [x] main-conversation ìë™ ìƒì„±
- [x] ë¶ˆí•„ìš”í•œ ë¼ìš°íŠ¸ ì œê±°
- [x] ì •ì  íŒŒì¼ ì„œë¹™ ì„¤ì • (Express)

#### 9.7.4 ì‘ë™ í™•ì¸
- [x] URL ê¹”ë” (/)
- [x] /c/new ë¦¬ë‹¤ì´ë ‰íŠ¸ í•´ê²°
- [x] Service Worker ê°±ì‹ 
- [x] Header UI ì™„ì „ ì •ë¦¬ â­
- [x] ë©”ì‹œì§€ ì†¡ìˆ˜ì‹  í…ŒìŠ¤íŠ¸ (êµ¬ì¡° í™•ì¸ ì™„ë£Œ)
- [x] ìƒˆë¡œê³ ì¹¨ í›„ ëŒ€í™” ìœ ì§€ í™•ì¸ (loadRecentMessages êµ¬í˜„ ì™„ë£Œ)

#### 9.7.5 ë©”ëª¨ë¦¬ í†µí•©
- [x] ê³ ì • ëŒ€í™”ë°©ì— ë©”ëª¨ë¦¬ ì—°ê²° (conversation-pipeline)
- [x] API ì—°ë™ í™•ì¸ (GET /api/chat/history/:sessionId)
- [x] ë©”ëª¨ë¦¬ ìë™ ì €ì¥ (handleResponse)
- [x] í”„ë¡ íŠ¸ API í´ë¼ì´ì–¸íŠ¸ ì—…ë°ì´íŠ¸ (chat-simple â†’ /api/chat)
- [x] ì»¨í…ìŠ¤íŠ¸ ì••ì¶• ì‹œ ë©”ëª¨ë¦¬ ìœ ì§€ (ì´ë¯¸ êµ¬í˜„ë¨)
- [ ] ë©”ëª¨ë¦¬ ì„¤ì • UI (ë³´ë¥˜)

### 9.8 í”„ë¡ íŠ¸ì—”ë“œ ëª¨ë“ˆí™” âœ… (2026-01-22)

#### 9.8.1 ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± âœ…
- [x] `src/styles/core/` - ë³€ìˆ˜, ë¦¬ì…‹, ë ˆì´ì•„ì›ƒ
- [x] `src/styles/components/` - ì»´í¬ë„ŒíŠ¸ë³„ CSS
- [x] `src/styles/pages/` - í˜ì´ì§€ë³„ CSS
- [x] `src/components/` - JS ì»´í¬ë„ŒíŠ¸ (chat, sidebar, canvas, shared)
- [x] `src/pages/` - í˜ì´ì§€ë³„ JS (ì¶”í›„ ì‚¬ìš©)

#### 9.8.2 CSS ëª¨ë“ˆ ë¶„ë¦¬ âœ…
- [x] `core/variables.css` - CSS ë³€ìˆ˜, í°íŠ¸, ìƒ‰ìƒ
- [x] `core/reset.css` - ë¦¬ì…‹, body ê¸°ë³¸ ìŠ¤íƒ€ì¼
- [x] `core/layout.css` - container, ë ˆì´ì•„ì›ƒ êµ¬ì¡°
- [x] `components/card.css` - ì¹´ë“œ ê³µí†µ ìŠ¤íƒ€ì¼
- [x] `components/sidebar.css` - ì‚¬ì´ë“œë°” (left-card, center-card)
- [x] `components/chat.css` - ì±„íŒ… ë©”ì‹œì§€ ì˜ì—­
- [x] `components/canvas.css` - ìº”ë²„ìŠ¤ íŒ¨ë„
- [x] `components/forms.css` - ì…ë ¥ì°½, ë²„íŠ¼, ì•¡ì…˜ë°”
- [x] `components/dock.css` - MacOS ìŠ¤íƒ€ì¼ ë…
- [x] `pages/chat-page.css` - ì±„íŒ… í˜ì´ì§€ ë ˆì´ì•„ì›ƒ

#### 9.8.3 JS ì»´í¬ë„ŒíŠ¸ ì¬êµ¬ì¡°í™” âœ…
**ì´ë™ëœ íŒŒì¼**:
- [x] `utils/chat-manager.js` â†’ `components/chat/chat-manager.js`
- [x] `utils/menu-manager.js` â†’ `components/sidebar/menu-manager.js`
- [x] `utils/panel-manager.js` â†’ `components/shared/panel-manager.js`

**import ê²½ë¡œ ìˆ˜ì •**:
- [x] `src/main.js` - ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ê²½ë¡œë¡œ ì—…ë°ì´íŠ¸
- [x] `components/shared/panel-manager.js` - profile-manager ê²½ë¡œ ìˆ˜ì •
- [x] `components/sidebar/menu-manager.js` - ai-service-manager ê²½ë¡œ ìˆ˜ì •

#### 9.8.4 ë¹Œë“œ í…ŒìŠ¤íŠ¸ âœ…
- [x] `npm run build` ì„±ê³µ (558ms)
- [x] ëª¨ë“  ëª¨ë“ˆ ì •ìƒ ë¡œë”©
- [x] ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€ í™•ì¸

#### 9.8.5 ë¬¸ì„œí™” âœ…
- [x] README.md ì—…ë°ì´íŠ¸ - ëª¨ë“ˆí™”ëœ êµ¬ì¡° ë¬¸ì„œí™”
- [x] ëª¨ë“ˆ ì‚¬ìš© ê°€ì´ë“œ ì‘ì„±
- [x] ë””ë ‰í† ë¦¬ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨ ì¶”ê°€

**ì•„í‚¤í…ì²˜ ê°œì„ **:
```
Before (Monolithic):
src/
â”œâ”€â”€ styles/main.css (2243 lines)
â””â”€â”€ utils/*.js (ëª¨ë“  ë¡œì§ í˜¼ì¬)

After (Modular):
src/
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ core/           # ê¸°ë³¸ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ components/     # ì»´í¬ë„ŒíŠ¸ë³„
â”‚   â””â”€â”€ pages/          # í˜ì´ì§€ë³„
â”œâ”€â”€ components/         # ê¸°ëŠ¥ë³„ JS
â”‚   â”œâ”€â”€ chat/
â”‚   â”œâ”€â”€ sidebar/
â”‚   â”œâ”€â”€ canvas/
â”‚   â””â”€â”€ shared/
â””â”€â”€ utils/              # ìˆœìˆ˜ ìœ í‹¸ë¦¬í‹°
```

**ì£¼ìš” ì¥ì **:
- âœ… ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- âœ… ì»´í¬ë„ŒíŠ¸ ë…ë¦½ì„± í–¥ìƒ
- âœ… ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ 
- âœ… ì¶”í›„ í˜ì´ì§€ ë¶„ë¦¬ ì¤€ë¹„ ì™„ë£Œ
- âœ… íŒ€ í˜‘ì—… ìš©ì´ (íŒŒì¼ ì¶©ëŒ ìµœì†Œí™”)

---

## ğŸš€ Phase 10: ë°°í¬ & ìµœì í™” (ë³´ë¥˜)

### 10.1 ì„±ëŠ¥
- [ ] ê²€ìƒ‰ ì¸ë±ì‹± ìµœì í™”
- [ ] ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬
- [ ] ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… í

### 10.2 ë°±ì—…
- [ ] ìë™ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
- [ ] ì™¸ë¶€ ë™ê¸°í™”
- [ ] ë³µêµ¬ í…ŒìŠ¤íŠ¸

### 10.3 ëª¨ë‹ˆí„°ë§
- [ ] ì €ì¥ ì‹¤íŒ¨ ì•Œë¦¼
- [ ] ë¹„ìš© ì¶”ì 
- [ ] ì„±ëŠ¥ ë©”íŠ¸ë¦­

---

## ğŸŒ Phase 11: ë„¤íŠ¸ì›Œí¬ (ë³´ë¥˜)

### 11.1 ë‚´ë¶€ ë„ë©”ì¸
- [ ] DNS/hosts ì„¤ì •
- [ ] ìë™ ê°ì§€
- [ ] Reverse Proxy

### 11.2 ì™¸ë¶€ ì ‘ì†
- [ ] ë„ë©”ì¸ ê´€ë¦¬ UI
- [ ] DDNS ì—°ë™
- [ ] ìì²´ ë„ë©”ì¸ ì„¤ì •
- [ ] SSL ìë™ ê°±ì‹ 

### 11.3 ë¼ìš°íŒ…
- [ ] ë‚´ë¶€ë§/ì™¸ë¶€ë§ ê°ì§€
- [ ] ìµœì  ê²½ë¡œ ì„ íƒ
- [ ] VPN/Tailscale í†µí•©

---

---

## ğŸ“ Phase P ì‘ì—… ì™„ë£Œ ë©”ëª¨ (2026-01-22)

### ì£¼ìš” êµ¬í˜„ ë‚´ìš©
1. **Profile ëª¨ë¸** (`/soul/models/Profile.js`)
   - basicInfo: ì´ë¦„, ë‹‰ë„¤ì„, ìœ„ì¹˜, íƒ€ì„ì¡´ ë“± ê³ ì • í•„ë“œ
   - customFields[]: ë™ì  í•„ë“œ (text, number, date, tag, list, url, select)
   - permissions: ì†Œìš¸ ì ‘ê·¼ ê¶Œí•œ ì œì–´ (readScope, canWrite, canDelete, autoIncludeInContext)
   - ë©”ì„œë“œ: addField, updateField, deleteField, reorderFields, generateSummary, findFieldsByKeywords

2. **API ì—”ë“œí¬ì¸íŠ¸** (`/soul/routes/profile.js`)
   - í”„ë¡œí•„ CRUD: GET/POST/PUT/DELETE /api/profile/p/*
   - í•„ë“œ ê´€ë¦¬: POST/PUT/DELETE /api/profile/p/fields/*
   - ê¶Œí•œ ê´€ë¦¬: GET/PATCH /api/profile/p/permissions
   - í‚¤ì›Œë“œ ê²€ìƒ‰: GET /api/profile/p/summary?keywords=...

3. **í”„ë¡ íŠ¸ì—”ë“œ**
   - ProfileManager í´ë˜ìŠ¤ (`/client/src/utils/profile-manager.js`)
   - Inline í¸ì§‘, ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì •ë ¬
   - ì‹¤ì‹œê°„ ìë™ ì €ì¥
   - í”„ë¡œí•„ ìŠ¤íƒ€ì¼ (`/client/src/styles/profile-manager.css`)
   - ë©”ë‰´ í†µí•© (menu-manager.js, panel-manager.js)

4. **ì†Œìš¸ í†µí•©**
   - conversation-pipeline.js: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì— í”„ë¡œí•„ ìš”ì•½ ìë™ í¬í•¨
   - context-detector.js: ê°œì¸ í‚¤ì›Œë“œ ê°ì§€ ì‹œ ìƒì„¸ í•„ë“œ ë¡œë“œ
   - _buildSystemPromptWithProfile(): ëŒ€í™” ì‹œì‘ ì‹œ í”„ë¡œí•„ ìë™ ì£¼ì…
   - _buildProfileFieldsPrompt(): í‚¤ì›Œë“œ ê¸°ë°˜ ìƒì„¸ ì •ë³´ ì£¼ì…

5. **í…ŒìŠ¤íŠ¸**
   - test-profile-api.sh: 8ê°œ API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
   - ê¶Œí•œ ì²´í¬ ë¡œì§ êµ¬í˜„
   - UI ìƒí˜¸ì‘ìš© êµ¬í˜„

### í•µì‹¬ ê¸°ëŠ¥
- âœ… ì‚¬ìš©ì í”„ë¡œí•„ ë™ì  ê´€ë¦¬ (í•„ë“œ ììœ  ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ)
- âœ… ì†Œìš¸ ì ‘ê·¼ ê¶Œí•œ ì„¸ë°€ ì œì–´ (full/limited/minimal)
- âœ… ëŒ€í™” ì‹œ ìë™ ì»¨í…ìŠ¤íŠ¸ í¬í•¨
- âœ… í‚¤ì›Œë“œ ê°ì§€ ì‹œ ê´€ë ¨ í•„ë“œ ìë™ ë¡œë“œ
- âœ… Inline í¸ì§‘ & ë“œë˜ê·¸ ì•¤ ë“œë¡­ UI

### ì•„í‚¤í…ì²˜
```
ì‚¬ìš©ì ëŒ€í™”
    â†“
context-detector.js (ê°œì¸ í‚¤ì›Œë“œ ê°ì§€)
    â†“
conversation-pipeline.js (í”„ë¡œí•„ ìš”ì•½ ì£¼ì…)
    â†“
Profile.generateSummary() (ê¶Œí•œ ê¸°ë°˜ ìš”ì•½)
    â†“
ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ìë™ êµ¬ì„±
```

### ìƒì„±ëœ íŒŒì¼
- `/soul/models/Profile.js`
- `/soul/routes/profile.js` (Phase P API ì¶”ê°€)
- `/client/src/utils/profile-manager.js`
- `/client/src/styles/profile-manager.css`
- `/client/index.html` (CSS ì¶”ê°€)
- `/scripts/test-profile-api.sh`

### ìˆ˜ì •ëœ íŒŒì¼
- `/soul/utils/conversation-pipeline.js` (í”„ë¡œí•„ í†µí•©)
- `/soul/utils/context-detector.js` (ê°œì¸ í‚¤ì›Œë“œ ê°ì§€)
- `/client/src/utils/panel-manager.js` (í”„ë¡œí•„ íŒ¨ë„ ì¶”ê°€)
- `/client/src/utils/menu-manager.js` (í”„ë¡œí•„ ë©”ë‰´ ì¶”ê°€)
- `/client/src/main.js` (í”„ë¡œí•„ ë²„íŠ¼ ë² ì´ì§€ ë ˆì´ì–´ ì—°ê²° - 2026-01-22)

### 2026-01-22 ì¶”ê°€ ì‘ì—…

#### ì„¤ì • í˜ì´ì§€ í”„ë ˆì„ì›Œí¬ ë¦¬íŒ©í† ë§ âœ…
- âœ… **ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¡œ ì „ë©´ ì¬êµ¬ì„±**
  - `settings/settings-manager.js`: ë©”ì¸ í”„ë ˆì„ì›Œí¬ (ë¼ìš°íŒ…, ë„¤ë¹„ê²Œì´ì…˜)
  - `settings/components/`: ê° ì„¤ì • í˜ì´ì§€ë¥¼ ë…ë¦½ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬
    - `profile-settings.js`: í”„ë¡œí•„ ì„¤ì • ì»´í¬ë„ŒíŠ¸
    - `ai-settings.js`: AI ì„¤ì • (í”Œë ˆì´ìŠ¤í™€ë”)
    - `theme-settings.js`: í…Œë§ˆ ì„¤ì • (í”Œë ˆì´ìŠ¤í™€ë”)
  - `settings/styles/settings.css`: ê³µí†µ ìŠ¤íƒ€ì¼ (ëª¨ë“ˆ ë°©ì‹ìœ¼ë¡œ ì„í¬íŠ¸)

- âœ… **ë™ì  ëª¨ë“ˆ ë¡œë”©**
  - ê° ì„¤ì • í˜ì´ì§€ëŠ” í•„ìš”í•  ë•Œë§Œ ë™ì ìœ¼ë¡œ ë¡œë“œ (`import()`)
  - ì»´í¬ë„ŒíŠ¸ ìºì‹±ìœ¼ë¡œ ì¬ì‚¬ìš© íš¨ìœ¨ì„± ì¦ëŒ€
  - CSSë„ JavaScript ëª¨ë“ˆë¡œ ì„í¬íŠ¸í•˜ì—¬ Viteê°€ ìë™ í•« ë¦¬ë¡œë“œ

- âœ… **íƒ­ ë„¤ë¹„ê²Œì´ì…˜**
  - í”„ë¡œí•„, AI ì„¤ì •, í…Œë§ˆ ì„¤ì • ê°„ ì‰¬ìš´ ì „í™˜
  - í™œì„± ìƒíƒœ í‘œì‹œ ë° ë¶€ë“œëŸ¬ìš´ ì „í™˜

#### í”„ë¡œí•„ ì„¤ì • ê¸°ëŠ¥ âœ…
- âœ… ê¸°ë³¸ ì •ë³´ í•„ë“œ (ì‹¤ìš©ì ì¸ ê°œì¸ì •ë³´)
  - ì´ë¦„, ë‹‰ë„¤ì„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, ìƒë…„ì›”ì¼
  - ì„±ë³„, ì£¼ë¯¼ë²ˆí˜¸(ë¯¼ê°ì •ë³´), êµ­ê°€, ì£¼ì†Œ
  - íƒ€ì„ì¡´, ì–¸ì–´ (ì‹œìŠ¤í…œìš©)
- âœ… ê° í•„ë“œë§ˆë‹¤ ê°œë³„ ê³µê°œ ì„¤ì • í† ê¸€
  - ğŸ‘ï¸/ğŸ”’: ì†Œìš¸ì—ê²Œ ê³µê°œ ì—¬ë¶€
  - ğŸ”„/â¸ï¸: ìë™ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ì— í¬í•¨ ì—¬ë¶€
- âœ… ë°±ì—”ë“œ API ì—°ë™
  - PUT /api/profile/p/basic/:fieldKey - ê°’ ì—…ë°ì´íŠ¸
  - PUT /api/profile/p/basic/:fieldKey/visibility - ê³µê°œ ì„¤ì • ì—…ë°ì´íŠ¸
- âœ… Profile ëª¨ë¸ ìŠ¤í‚¤ë§ˆ
  - basicInfo ê° í•„ë“œë§ˆë‹¤ { value, visibility } êµ¬ì¡°
  - fieldVisibilitySchema ì§€ì›

---

### Phase P: í”„ë¡œí•„ ì‹œìŠ¤í…œ âœ…

#### P.1 ë°ì´í„° ëª¨ë¸ âœ…
- [x] MongoDB ìŠ¤í‚¤ë§ˆ ì„¤ê³„
  - [x] basicInfo (ê³ ì • í•„ë“œ)
  - [x] customFields[] (ë™ì  í•„ë“œ)
  - [x] permissions (ê¶Œí•œ ì„¤ì •)
  - [x] metadata (ìƒì„±ì¼, ìˆ˜ì •ì¼ ë“±)
- [x] í•„ë“œ íƒ€ì… ì§€ì›
  - [x] text, number, date, tag, list, url, select
- [x] ê¶Œí•œ ëª¨ë¸
  - [x] owner (ì†Œì›) - read/write all
  - [x] soul - ê¸°ë³¸ read only (ê¶Œí•œ ì„¤ì •ì— ì“°ê¸°,ì‚­ì œ ê°€ëŠ¥)
  - [x] scope: full / limited / minimal

#### P.2 ë°±ì—”ë“œ API âœ…
- [x] Profile ëª¨ë¸ & ìŠ¤í‚¤ë§ˆ
- [x] í”„ë¡œí•„ ì¡°íšŒ API
  - [x] GET /api/profile/p - ì „ì²´
  - [x] GET /api/profile/p/summary - ìš”ì•½
  - [x] GET /api/profile/p/detail/:fieldId - ìƒì„¸
- [x] í•„ë“œ CRUD API
  - [x] POST /api/profile/p/fields - í•„ë“œ ì¶”ê°€
  - [x] PUT /api/profile/p/fields/:id - í•„ë“œ ìˆ˜ì •
  - [x] DELETE /api/profile/p/fields/:id - í•„ë“œ ì‚­ì œ
  - [x] PUT /api/profile/p/fields/reorder - ìˆœì„œ ë³€ê²½
- [x] ê¶Œí•œ ê´€ë¦¬ API
  - [x] GET /api/profile/p/permissions - ê¶Œí•œ ì¡°íšŒ
  - [x] PATCH /api/profile/p/permissions - ê¶Œí•œ ìˆ˜ì •
- [ ] WebSocket ì´ë²¤íŠ¸ (ë³´ë¥˜ - HTTPë¡œë„ ì¶©ë¶„)

#### P.3 í”„ë¡ íŠ¸ì—”ë“œ UI âœ…
- [x] í”„ë¡œí•„ íŒ¨ë„ UI
  - [x] í•„ë“œ ëª©ë¡ í‘œì‹œ
  - [x] Inline í¸ì§‘ (í´ë¦­í•´ì„œ ìˆ˜ì •)
  - [x] í•„ë“œ ì¶”ê°€ ë²„íŠ¼
  - [x] í•„ë“œ ì‚­ì œ ë²„íŠ¼ (Ã—)
  - [x] í•„ë“œ ìˆœì„œ ë³€ê²½ (drag)
  - [x] ì €ì¥ ë²„íŠ¼
  - [x] ì €ì¥ ìƒíƒœ í‘œì‹œ

#### P.4 ì†Œìš¸ í†µí•© âœ…
- [x] í”„ë¡œí•„ ìš”ì•½ Context ë¡œë“œ
  - [x] ëŒ€í™” ì‹œì‘ ì‹œ ìš”ì•½ ìë™ í¬í•¨
  - [x] ê°œì¸ ì–˜ê¸° ê°ì§€ ì‹œ ìƒì„¸ í•„ë“œ ë¡œë“œ
- [x] context-detectorì™€ í†µí•©
- [x] ìì—°ìŠ¤ëŸ¬ìš´ ì°¸ì¡°
- [x] ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´

#### P.5 í…ŒìŠ¤íŠ¸ âœ…
- [x] API í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [x] ê¶Œí•œ ì²´í¬ ë¡œì§ êµ¬í˜„
- [x] UI ìƒí˜¸ì‘ìš© êµ¬í˜„
- [x] test-profile-api.sh ì¶”ê°€

---

## ğŸ”„ Phase A: ìë™ ì—…ë°ì´íŠ¸ (ë³´ë¥˜)

### A.1 ë²„ì „ ì²´í¬
- [ ] GitHub Releases API
- [ ] ì„œë²„ ì‹œì‘ ì‹œ ì²´í¬
- [ ] í˜„ì¬ vs ìµœì‹  ë¹„êµ
- [ ] Header ë°°ì§€ (ğŸ†™)

### A.2 ì—…ë°ì´íŠ¸ UI
- [ ] ì•ˆë‚´ ëª¨ë‹¬
- [ ] ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ í‘œì‹œ
- [ ] [ì§€ê¸ˆ ì—…ë°ì´íŠ¸] [ë‚˜ì¤‘ì—] [ë¬´ì‹œ]

### A.3 ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
- [ ] Docker: pull && up -d
- [ ] ì¼ë°˜: git pull && build && restart

### A.4 ì„¤ì •
- [ ] ìë™ í™•ì¸ í™œì„±í™”/ë¹„í™œì„±í™”
- [ ] ì²´í¬ ì£¼ê¸° ì„¤ì •
- [ ] [ì§€ê¸ˆ í™•ì¸] ë²„íŠ¼

### A.5 Tauri ì•±
- [ ] Tauri Updater ì—°ë™

---

## ğŸ”” Phase N: ì•Œë¦¼ ì‹œìŠ¤í…œ (ë³´ë¥˜)

- [ ] ì•Œë¦¼ DB í…Œì´ë¸”
- [ ] ì•Œë¦¼ í ê´€ë¦¬
- [ ] ìƒíƒœ ì¶”ì  (pending/delivered/read)
- [ ] íŠ¸ë¦¬ê±° ì¡°ê±´ (ì‘ì—… ì™„ë£Œ, ì—ëŸ¬, ê²°ì • ë“±)
- [ ] ì „ë‹¬ ë°©ì‹ (ë©”ì‹œì§€ ì§ì ‘ ì „ë‹¬, ì•Œë¦¼ì°½ í‘œì‹œ)
- [ ] ìš°ì„ ìˆœìœ„ ê´€ë¦¬ (1-10)
- [ ] ë§¥ë½ ì¸ì§€
- [ ] ìì—°ì–´ ë©”ì‹œì§€ ìƒì„±

---

## â° Phase T: ì‹œê°„ ì¸ì§€ (ë³´ë¥˜)

- [ ] ëŒ€í™” ì´ë ¥ DB
- [ ] í˜„ì¬ ì‹œê°„ ì •ë³´
- [ ] íŒ¨í„´ ë¶„ì„ (ë¹ˆë„, ì‹œê°„ëŒ€)
- [ ] ë§¥ë½ ì—°ì†ì„±
- [ ] ì‹œê°„ ê¸°ë°˜ ì‘ë‹µ
- [ ] ì•ˆë¶€ ì‹œìŠ¤í…œ
- [ ] ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì£¼ì…

---

## ğŸ¤– Phase X: AI ëª¨ë¸ ê´€ë¦¬ ì‹œìŠ¤í…œ âœ…

### X.1 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ âœ…
- [x] AIService ëª¨ë¸ ë‹¨ìˆœí™” - apiKey ì§ì ‘ ì €ì¥
- [x] APIKey ì»¬ë ‰ì…˜ ì œê±° (ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ)
- [x] Memory ëª¨ë¸ ìƒì„± - ì¥ê¸° ë©”ëª¨ë¦¬ ì €ì¥ì†Œ
- [x] UserProfile ëª¨ë¸ - í…Œë§ˆ, ì„ í˜¸ë„, í™œë™ ì¶”ì 

### X.2 ë™ì  ëª¨ë¸ ê´€ë¦¬ âœ…
- [x] ì œê³µì‚¬ë³„ API ì—°ë™
- [x] API í‚¤ ê²€ì¦ ì‹œìŠ¤í…œ
- [x] ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- [x] Claude ëª¨ë¸ ID ìˆ˜ì • (claude-sonnet-4-5-20250929)
- [x] Role ëª¨ë¸ ê¸°ë³¸ê°’ ì—…ë°ì´íŠ¸ (ìµœì‹  ëª¨ë¸ ë°˜ì˜)

### X.3 API í‚¤ ê´€ë¦¬ ë¦¬íŒ©í† ë§ âœ…
- [x] ë³µì¡í•œ ì´ì¤‘ êµ¬ì¡° ì œê±° (AIService + APIKey)
- [x] AIService.apiKey ì§ì ‘ ì €ì¥ (select: falseë¡œ ë³´ì•ˆ ìœ ì§€)
- [x] ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ë° ì‹¤í–‰
- [x] API ë¼ìš°íŠ¸ ë‹¨ìˆœí™” (ai-services.js)
- [x] í™˜ê²½ë³€ìˆ˜ëŠ” ì´ˆê¸°í™” ì‹œì—ë§Œ ì‚¬ìš©

### X.4 ì„¤ì • UI âœ…
- [x] í–„ë²„ê±° ë©”ë‰´ "ğŸ¤– AI ì„¤ì •"
- [x] ë™ì  UI ì „í™˜ (AIServiceManager í´ë˜ìŠ¤)
- [x] í…Œì´ë¸” í˜•íƒœ ê´€ë¦¬ í˜ì´ì§€
- [x] API í‚¤ ì„¤ì •/ë³€ê²½/ì‚­ì œ ê¸°ëŠ¥
- [x] ì„œë¹„ìŠ¤ í™œì„±í™”/ë¹„í™œì„±í™”
- [x] ì—°ê²° í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥
- [x] ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ ëŒ€ì‘
- [x] ìƒ‰ìƒ ëŒ€ë¹„ ë¬¸ì œ í•´ê²° (í°ë°”íƒ• í°ê¸€ì”¨ ìˆ˜ì •)

### X.5 ì‹¤í—˜ ë””ìì¸ í˜ì´ì§€ âœ…
- [x] test-design.html ë…ë¦½ í˜ì´ì§€ ìƒì„±
- [x] test-design.css ê·¸ë¼ë°ì´ì…˜ + ìœ ë¦¬ ëª¨í”¼ì¦˜ ë””ìì¸
- [x] test-design.js API ì—°ë™ ì™„ë£Œ
- [x] ë©”ì¸ ì•±ê³¼ ë¶„ë¦¬ëœ ë””ìì¸ ì‹¤í—˜ í™˜ê²½

### X.6 ì„œë²„ ì„¤ì • ìˆ˜ì • âœ…
- [x] .env íŒŒì¼ ê²½ë¡œ ëª…ì‹œì  ì§€ì • (server/index.js)
- [x] Vite í”„ë¡ì‹œ í¬íŠ¸ ìˆ˜ì • (4000 â†’ 3000)
- [x] MongoDB ì¬ì‹œì‘ ë° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- [x] ëª¨ë“  ì„œë¹„ìŠ¤ ì •ìƒ ì‘ë™ í™•ì¸

### X.7 AI ì„œë¹„ìŠ¤ ê´€ë¦¬ UI âœ…
- [x] AIServiceManager í´ë˜ìŠ¤ êµ¬í˜„
- [x] ì„œë¹„ìŠ¤ ëª©ë¡ ë¡œë“œ API ì—°ë™
- [x] API í‚¤ ì„¤ì • í”„ë¡¬í”„íŠ¸
- [x] í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€
- [x] ì—°ê²° í…ŒìŠ¤íŠ¸ ë²„íŠ¼
- [x] ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸

### X.8 ì‚¬ìš©ì ì„¤ì • ì˜êµ¬ ì €ì¥ âœ…
- [x] í…Œë§ˆ ì„¤ì • MongoDB ì €ì¥
- [x] 2ì¤‘ ì €ì¥ ì‹œìŠ¤í…œ (localStorage + MongoDB)
- [x] ThemeManager ì„œë²„ ì—°ë™
- [x] í”„ë¡œí•„ ìë™ ìƒì„±

### X.9 Claude Code ì–¸ì–´ ì„¤ì • âœ…
- [x] .claude/settings.local.json í•œêµ­ì–´
- [x] Compact í›„ì—ë„ í•œêµ­ì–´ ìœ ì§€
- [x] ê¶Œí•œ ì„¤ì • ì˜êµ¬ ë³´ì¡´

### X.10 ë¦¬íŒ©í† ë§ ì„±ê³¼ âœ…
**Before (ë³µì¡)**:
```
AIService â†’ apiKeyRef â†’ APIKey â†’ encryptedKey
í™˜ê²½ë³€ìˆ˜ â†’ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ â†’ DB ì €ì¥ â†’ í•˜ë“œì½”ë”© UI
```

**After (ë‹¨ìˆœ)**:
```
AIService â†’ apiKey (ì§ì ‘ ì €ì¥)
í™˜ê²½ë³€ìˆ˜ â†’ ì´ˆê¸°ê°’ë§Œ ì‚¬ìš©
UI â†’ API â†’ DB (ì§ì ‘ ì €ì¥/ì¡°íšŒ)
```

**ê²°ê³¼**: ì½”ë“œ 50% ê°ì†Œ, ê°€ë…ì„± í–¥ìƒ, UIì—ì„œ ëª¨ë“  ê´€ë¦¬ ê°€ëŠ¥

### X.11 ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡ âœ…
**ë°±ì—”ë“œ**:
- `/soul/models/AIService.js` - apiKey ì§ì ‘ ì €ì¥ êµ¬ì¡°
- `/soul/models/Memory.js` - ì¥ê¸° ë©”ëª¨ë¦¬ ëª¨ë¸ ìƒì„±
- `/soul/routes/ai-services.js` - APIKey ì˜ì¡´ì„± ì œê±°
- `/soul/server/index.js` - .env ê²½ë¡œ ìˆ˜ì •
- `/soul/scripts/migrate-api-keys.js` - ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- `/soul/scripts/update-role-models.js` - ëª¨ë¸ ID ì—…ë°ì´íŠ¸

**í”„ë¡ íŠ¸ì—”ë“œ**:
- `/client/src/utils/ai-service-manager.js` - ìƒˆ ê´€ë¦¬ í´ë˜ìŠ¤
- `/client/src/styles/ai-service-manager.css` - ì‹¬í”Œ ë””ìì¸
- `/client/src/utils/menu-manager.js` - ë™ì  UI ì „í™˜
- `/client/vite.config.js` - í”„ë¡ì‹œ í¬íŠ¸ ìˆ˜ì •

**ì‹¤í—˜ í˜ì´ì§€**:
- `/client/test-design.html` - ë…ë¦½ í…ŒìŠ¤íŠ¸ í˜ì´ì§€
- `/client/src/styles/test-design.css` - ì‹¤í—˜ ë””ìì¸
- `/client/src/test-design.js` - API ì—°ë™

**ë¬¸ì„œ**:
- `/WORK_LOG.md` - ìƒì„¸ ì‘ì—… ë¡œê·¸

### X.12 í–¥í›„ ê°œì„  ì‚¬í•­
- [ ] API í‚¤ ì•”í˜¸í™” êµ¬í˜„ (í˜„ì¬ í‰ë¬¸ ì €ì¥)
- [ ] ëª¨ë‹¬ ëŒ€ì‹  ì¸ë¼ì¸ í¸ì§‘ UI
- [ ] API í‚¤ ë§ˆìŠ¤í‚¹ í‘œì‹œ (â€¢â€¢â€¢â€¢â€¢â€¢)
- [ ] ì„œë¹„ìŠ¤ë³„ ì‚¬ìš© í†µê³„ í‘œì‹œ
- [ ] test-design.htmlì„ ë©”ì¸ ì•±ìœ¼ë¡œ ì „í™˜


-----------


## ğŸ“š ê°œë°œ ë ˆí¼ëŸ°ìŠ¤ + ì¤‘ìš”ë©”ëª¨

### ğŸ—‚ï¸ í´ë” êµ¬ì¡°
```
/workspaces/.soul/
â”œâ”€â”€ soul/               # ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ models/        # MongoDB ëª¨ë¸
â”‚   â”œâ”€â”€ routes/        # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ utils/         # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ config/
â”‚   â””â”€â”€ memory/
â”œâ”€â”€ client/            # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ memory/            # ë©”ëª¨ë¦¬ ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ raw/          # YYYY-MM-DD_HHmmss_ì£¼ì œ.md
â”‚   â”œâ”€â”€ processed/
â”‚   â””â”€â”€ index.json
â”œâ”€â”€ files/            # íŒŒì¼ ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ uploads/
â”‚   â””â”€â”€ processed/
â”œâ”€â”€ mcp/              # MCP ì„œë²„ë“¤
â”‚   â”œâ”€â”€ hub-server.js
â”‚   â””â”€â”€ tools/
â”œâ”€â”€ docs/             # ë¬¸ì„œ
â”œâ”€â”€ install.sh
â””â”€â”€ README.md
```

### ğŸ”‘ í™˜ê²½ë³€ìˆ˜ (.env)
```bash
# MongoDB
MONGODB_URI=mongodb://localhost:27017/soul

# ê²½ë¡œ
MEMORY_PATH=/path/to/memory
FILES_PATH=/path/to/files
MCP_PATH=/path/to/mcp

# AI API Keys
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_API_KEY=
XAI_API_KEY=

# ì•”í˜¸í™”
ENCRYPTION_KEY=

# ì„œë²„
PORT=3000
JWT_SECRET=
```

### ğŸ›£ï¸ API ì—”ë“œí¬ì¸íŠ¸

#### ë©”ëª¨ë¦¬ (Phase 1)
- `POST /api/memory/archive` - ëŒ€í™” ì €ì¥

#### AI ë¶„ë¥˜ (Phase 2)
- `GET /api/ai-models/services` - AI ì„œë¹„ìŠ¤ ëª©ë¡
- `POST /api/ai-models/test` - AI ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
- `GET /api/config/ai` - AI ì„¤ì • ì¡°íšŒ
- `PATCH /api/config/ai` - AI ì„¤ì • ë³€ê²½

#### ê²€ìƒ‰ (Phase 3)
- `GET /api/search` - ê¸°ë³¸ ê²€ìƒ‰
- `POST /api/search/advanced` - ê³ ê¸‰ ê²€ìƒ‰
- `GET /api/search/tags` - íƒœê·¸ ëª©ë¡
- `GET /api/search/categories` - ì¹´í…Œê³ ë¦¬ ëª©ë¡
- `GET /api/search/stats` - í†µê³„
- `POST /api/search/smart` - ì§€ëŠ¥í˜• ê²€ìƒ‰
- `GET /api/search/similar/:id` - ìœ ì‚¬ ëŒ€í™”
- `GET /api/search/graph` - ê´€ê³„ ê·¸ë˜í”„
- `GET /api/search/recommendations` - ì¶”ì²œ
- `POST /api/search/by-tags` - íƒœê·¸ ê²€ìƒ‰

#### ì»¨í…ìŠ¤íŠ¸ (Phase 4)
- `POST /api/context/detect` - ë§¥ë½ ê°ì§€
- `POST /api/context/extract-keywords` - í‚¤ì›Œë“œ ì¶”ì¶œ
- `POST /api/context/evaluate-trigger` - íŠ¸ë¦¬ê±° í‰ê°€
- `POST /api/context/find-memories` - ë©”ëª¨ë¦¬ ê²€ìƒ‰
- `POST /api/context/generate-prompt` - í”„ë¡¬í”„íŠ¸ ìƒì„±
- `POST /api/context/check-spam` - ìŠ¤íŒ¸ ë°©ì§€

#### ë¹„ìœ  (Phase 4)
- `POST /api/analogy/analyze` - ë¹„ìœ  ë¶„ì„
- `POST /api/analogy/find` - ë¹„ìœ  ê²€ìƒ‰
- `POST /api/analogy/detect-patterns` - íŒ¨í„´ ê°ì§€
- `POST /api/analogy/should-activate` - í™œì„±í™” ì²´í¬
- `GET /api/analogy/config` - ì„¤ì • ì¡°íšŒ
- `PATCH /api/analogy/config` - ì„¤ì • ë³€ê²½

#### ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ (Phase 5)
- `POST /api/context-mgmt/analyze` - í† í° ë¶„ì„
- `POST /api/context-mgmt/estimate-tokens` - í† í° ì¶”ì •
- `POST /api/context-mgmt/compress` - ì••ì¶•
- `POST /api/context-mgmt/should-compress` - ì••ì¶• í•„ìš” ì²´í¬
- `POST /api/context-mgmt/session-summary` - ì„¸ì…˜ ìš”ì•½
- `GET /api/context-mgmt/restore/:id` - ì„¸ì…˜ ë³µì›
- `GET /api/context-mgmt/config` - ì„¤ì • ì¡°íšŒ
- `PATCH /api/context-mgmt/config` - ì„¤ì • ë³€ê²½
- `GET /api/context-mgmt/model-limits` - ëª¨ë¸ ì œí•œ

#### ëŒ€í™” (Phase 5.4)
- `POST /api/chat` - ë©”ì‹œì§€ ì „ì†¡
- `POST /api/chat/resume` - ì„¸ì…˜ ì¬ê°œ
- `POST /api/chat/end` - ì„¸ì…˜ ì¢…ë£Œ
- `GET /api/chat/sessions` - í™œì„± ì„¸ì…˜
- `GET /api/chat/memory-stats` - ë©”ëª¨ë¦¬ í†µê³„
- `GET /api/chat/token-status` - í† í° ìƒíƒœ
- `POST /api/chat/compress` - ìˆ˜ë™ ì••ì¶•

#### ìŠ¤ë§ˆíŠ¸ ë¼ìš°íŒ… (Phase 8)
- `POST /api/chat/analyze-task` - íƒœìŠ¤í¬ ë¶„ì„
- `GET /api/chat/routing-stats` - ë¼ìš°íŒ… í†µê³„
- `GET /api/chat/models` - ëª¨ë¸ ëª©ë¡
- `GET /api/chat/personality` - ì¸ê²© ì •ë³´
- `POST /api/chat/personality/preference` - ì„ í˜¸ë„ ì„¤ì •

#### AI ì„œë¹„ìŠ¤ (Phase X)
- `POST /api/config/api-key` - API í‚¤ ì €ì¥
- `GET /api/config/api-key/:service` - API í‚¤ í™•ì¸
- `DELETE /api/config/api-key/:service` - API í‚¤ ì‚­ì œ
- `GET /api/ai-services` - ì„œë¹„ìŠ¤ ëª©ë¡
- `GET /api/ai-services/:id` - ì„œë¹„ìŠ¤ ìƒì„¸
- `POST /api/ai-services` - ì„œë¹„ìŠ¤ ì¶”ê°€
- `PATCH /api/ai-services/:id` - ì„œë¹„ìŠ¤ ìˆ˜ì •
- `DELETE /api/ai-services/:id` - ì„œë¹„ìŠ¤ ì‚­ì œ
- `POST /api/ai-services/:id/toggle` - í™œì„±í™” í† ê¸€
- `POST /api/ai-services/:id/refresh-models` - ëª¨ë¸ ê°±ì‹ 
- `POST /api/ai-services/:id/test` - ì—°ê²° í…ŒìŠ¤íŠ¸
- `GET /api/config/models/:service` - ëª¨ë¸ ëª©ë¡
- `POST /api/config/ai/default` - ê¸°ë³¸ ëª¨ë¸ ì €ì¥
- `POST /api/config/api-key/validate` - API í‚¤ ê²€ì¦

#### í”„ë¡œí•„ (Phase X)
- `GET /api/profile/user/:userId` - í”„ë¡œí•„ ì¡°íšŒ
- `PUT /api/profile/user/:userId` - í”„ë¡œí•„ ì—…ë°ì´íŠ¸
- `GET /api/profile/user/:userId/theme` - í…Œë§ˆ ì¡°íšŒ
- `PATCH /api/profile/user/:userId/theme` - í…Œë§ˆ ì €ì¥

#### í”„ë¡œí•„ ì‹œìŠ¤í…œ (Phase P)
- `GET /api/profile/p` - ì „ì²´ í”„ë¡œí•„ ì¡°íšŒ
- `GET /api/profile/p/summary` - í”„ë¡œí•„ ìš”ì•½ (scope: full/limited/minimal)
- `GET /api/profile/p/detail/:fieldId` - íŠ¹ì • í•„ë“œ ìƒì„¸
- `POST /api/profile/p/fields` - í•„ë“œ ì¶”ê°€
- `PUT /api/profile/p/fields/:id` - í•„ë“œ ìˆ˜ì •
- `DELETE /api/profile/p/fields/:id` - í•„ë“œ ì‚­ì œ
- `PUT /api/profile/p/fields/reorder` - í•„ë“œ ìˆœì„œ ë³€ê²½
- `GET /api/profile/p/permissions` - ê¶Œí•œ ì¡°íšŒ
- `PATCH /api/profile/p/permissions` - ê¶Œí•œ ìˆ˜ì •

### ğŸ“¦ ì£¼ìš” íŒŒì¼

#### MongoDB ëª¨ë¸
- `soul/models/APIKey.js` - API í‚¤ ì•”í˜¸í™”
- `soul/models/AIService.js` - AI ì„œë¹„ìŠ¤
- `soul/models/UserProfile.js` - ì‚¬ìš©ì í”„ë¡œí•„

#### ìœ í‹¸ë¦¬í‹°
- `soul/utils/ai-service.js` - AI ì„œë¹„ìŠ¤ íŒ©í† ë¦¬
- `soul/utils/search.js` - ê²€ìƒ‰ ì—”ì§„
- `soul/utils/smart-search.js` - ì§€ëŠ¥í˜• ê²€ìƒ‰
- `soul/utils/recommendation.js` - ì¶”ì²œ ì‹œìŠ¤í…œ
- `soul/utils/context-detector.js` - ë§¥ë½ ê°ì§€
- `soul/utils/analogy-finder.js` - ë¹„ìœ  ì°¾ê¸°
- `soul/utils/token-counter.js` - í† í° ê³„ì‚°
- `soul/utils/context-compressor.js` - ì»¨í…ìŠ¤íŠ¸ ì••ì¶•
- `soul/utils/conversation-pipeline.js` - ëŒ€í™” ì²˜ë¦¬
- `soul/utils/token-safeguard.js` - í† í° í­ë°œ ë°©ì§€
- `soul/utils/agent-chain.js` - ì—ì´ì „íŠ¸ ì²´ì´ë‹
- `soul/utils/memory-layers.js` - ë©”ëª¨ë¦¬ ê³„ì¸µ
- `soul/utils/session-continuity.js` - ì„¸ì…˜ ì—°ì†ì„±
- `soul/utils/smart-router.js` - ìŠ¤ë§ˆíŠ¸ ë¼ìš°íŒ…
- `soul/utils/personality-core.js` - ë‹¨ì¼ ì¸ê²©

#### í”„ë¡ íŠ¸ì—”ë“œ
- `client/src/utils/menu-manager.js` - í–„ë²„ê±° ë©”ë‰´
- `client/src/utils/panel-manager.js` - íŒ¨ë„ ì‹œìŠ¤í…œ
- `client/src/utils/theme-manager.js` - í…Œë§ˆ ê´€ë¦¬
- `client/src/main.js` - ë©”ì¸ ì—”íŠ¸ë¦¬

### ğŸ” ì•”í˜¸í™”
- **ì•Œê³ ë¦¬ì¦˜**: AES-256-CBC
- **í™˜ê²½ë³€ìˆ˜**: `ENCRYPTION_KEY`
- **ì €ì¥**: MongoDB `APIKey` ì»¬ë ‰ì…˜

### ğŸ—„ï¸ MongoDB ì»¬ë ‰ì…˜
- `apikeys` - ì•”í˜¸í™”ëœ API í‚¤
- `aiservices` - AI ì„œë¹„ìŠ¤ ì„¤ì •
- `userprofiles` - ì‚¬ìš©ì í”„ë¡œí•„ & í…Œë§ˆ
- `conversations` - ëŒ€í™” ë©”íƒ€ë°ì´í„°
- `memories` - ì¥ê¸° ë©”ëª¨ë¦¬ (Phase 5.4)

### ğŸ“ conversationId
- **ê³ ì •ê°’**: `'main-conversation'`
- **ìš©ë„**: ë‹¨ì¼ ì˜ì† ëŒ€í™”ë°©

### ğŸ¨ í…Œë§ˆ ì €ì¥
- **localStorage**: ì¦‰ì‹œ ë³µì›
- **MongoDB**: ë‹¤ë¥¸ ê¸°ê¸° ë™ê¸°í™”
- **API**: `PATCH /api/profile/user/:userId/theme`

**ë¼ìš°íŒ… ë¡œì§**:
- complexity â‰¥ 7 OR requiresExpertise â†’ ê³ ì„±ëŠ¥ ëª¨ë¸ (ì˜ˆ: Opus, GPT-4, Gemini Pro)
- complexity â‰¤ 3 AND NOT requiresReasoning â†’ ê²½ëŸ‰ ëª¨ë¸ (ì˜ˆ: Haiku, GPT-3.5, Gemini Flash)
- else â†’ ì¤‘ê°„ ëª¨ë¸ (ì˜ˆ: Sonnet, GPT-4o, Gemini Pro)

**íƒœìŠ¤í¬ ìœ í˜•ë³„ ë³µì¡ë„**:
- ê²½ëŸ‰ (1-2): ê°„ë‹¨í•œ ì§ˆë¬¸, ë²ˆì—­, ìš”ì•½
- ì¤‘ê°„ (4-6): ì½”ë“œ ìƒì„±, ë¦¬ë·°, ë¶„ì„, ë¬¸ì œ í•´ê²°
- ê³ ì„±ëŠ¥ (7-9): ì•„í‚¤í…ì²˜ ì„¤ê³„, ë³µì¡í•œ ë””ë²„ê¹…, ì—°êµ¬, ì „ë¬¸ ì»¨ì„¤íŒ…

**ì‚¬ìš©ì ì„¤ì •**:
- ê° ë³µì¡ë„ ë²”ìœ„ì— ì‚¬ìš©í•  ëª¨ë¸ì„ AI ì„¤ì •ì—ì„œ ì„ íƒ ê°€ëŠ¥
- ì œê³µì‚¬ ìƒê´€ì—†ì´ ì›í•˜ëŠ” ëª¨ë¸ ì¡°í•©ìœ¼ë¡œ êµ¬ì„±
